<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>School of Electronic Engineering and Computer  Science</title>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        
        
    </head>
    <body class="vscode-light">
        <div align="center">
  <img src="https://www.qmul.ac.uk/blizard/media/blizard/images/logos/QMUL_White.png"  style=" width:400px; height:120px; border:none;"/>
<img src="https://i2.wp.com/www.innovationtoronto.com/wp-content/uploads/2019/05/BUPT_logo_800px111.jpg?fit=800%2C240&ssl=1"  style=" width:400px; height:120px; border:none;"/>
<h1 id="EBU6305---interactive-media-design-and-productionbrlab-3">EBU6305 - INTERACTIVE MEDIA DESIGN AND PRODUCTION  </br>JavaScript and Data persistence</h1>
</div>

<h3 id="introduction">Introduction</h3>
<p>The purpose of this lab session is basis of JavaScript operation and data persistance.</p>
<h3 id="setup">Setup</h3>
<p><b>** The original content was prepared by María Santamaría, and restructured to fit EBU6305 course. **</b></p>
<ol>
<li>Open <code>index.html</code> file in Firefox.</li>
<li>Open <code>index.html</code> files in a text editor (i.e. codepen, gedit, sublime, atom, etc.).</li>
<li>Explore the developer tools and console (Ctrl-Shift-K) in Firefox.</li>
</ol>
<h3 id="text-processing">JavaScript example - Text processing</h3>
<p>Write a program to count the vowels in a text.</p>
<ol>
<li>
<p>Open <code>process_text.js</code> file in a text editor</p>
</li>
<li>
<p>Add both the <code>button</code> and <code>textarea</code> elements:</p>
</li>
</ol>
<pre><code><div>let btn = document.getElementById('count_btn');
let txt_field = document.getElementById('input_txt');
</div></code></pre>
<ol start="3">
<li>Go to the <code>onlick</code> event definition for the button</li>
</ol>
<pre><code><div>btn.onclick = function() {

};
</div></code></pre>
<ol start="4">
<li>Add the value typed on the text area:</li>
</ol>
<pre><code><div>let txt = txt_field.value;
</div></code></pre>
<ol start="5">
<li>Create an array that contains the vowels. This will be used later to check if a character in the text is a vowel</li>
</ol>
<pre><code><div>let vowels = ['a', 'e', 'i', 'o', 'u'];
</div></code></pre>
<ol start="6">
<li>Traverse the input text and check if each character is a vowel or not. If it is, increase the counter by one</li>
</ol>
<pre><code><div>for (let letter of txt.toLowerCase()){
      if (vowels.includes(letter)) {
        counter++
}
</div></code></pre>
<ol start="7">
<li>Display the number of vowel(s) after that</li>
</ol>
<pre><code><div>alert(`The text contains ${counter} vowel(s)`)
</div></code></pre>

<h3 id="html5-web-storage">HTML5 Web Storage</h3>
<p>The rest of the lab will be focused on achieving data persistence using a web storage.</p>
<p>&quot;With web storage, web applications can store data locally within the user's browser&quot; <a href="https://www.w3schools.com/html/html5_webstorage.asp">[1]</a>. The storage limit is at least 5MB. There are two properties that can be used: <code>localStorage</code> and <code>sessionStorage</code>. The difference between them is that &quot;<code>localStorage</code> has no expiration time, whilst data stored in <code>sessionStorage</code> gets cleared when the page session ends — that is, when the page is closed&quot; <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">[2]</a>.</p>
<p>The lab will focus on using <code>localStorage</code> property.</p>
<h3 id="create-a-greeting-message-with-your-name">Create a greeting message with your name</h3>
<ol>
<li>
<p>Open <code>greet_user.js</code> file in a text editor</p>
</li>
<li>
<p>Go to the definition of <code>update_greet_message()</code> function</p>
</li>
<li>
<p>Check if the item <code>name</code> exists in the <code>localStorage</code> and if it does, update the message to display:</p>
</li>
</ol>
<pre><code><div>if (localStorage.name) {
  greetings.innerHTML = 'Hello ' + localStorage.name + '!';
}
</div></code></pre>
<ol start="4">
<li>
<p>Go to the definition of <code>greet_user()</code> function</p>
</li>
<li>
<p>Add the event <code>onclick</code> for the button. The goal is to get the name entered by the user and display the greeting message</p>
</li>
</ol>
<pre><code><div>btn.onclick = function() {
  localStorage.name = name_field.value;
  update_greet_message();
};
</div></code></pre>
<ol start="6">
<li>
<p>Close the browser and open it once again</p>
</li>
<li>
<p>Note the greet message displays the name given by the user</p>
</li>
</ol>

    </body>
    </html>